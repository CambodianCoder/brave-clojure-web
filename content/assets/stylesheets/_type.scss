// uses compass stuff

$base-font-size: 18px;
$base-line-height: 27px;
@include establish-baseline;


$sans-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
$serif-family: "Gentium Book Basic", Palatino Linotype, Book Antiqua, Palatino, serif;
$title-font: "Avenir Next LT Pro Condensed";
$title-family: $title-font, $sans-family;
$sub-family: "Courgette", $serif-family;
$mono-family: "Source Code Pro", "Bitstream Vera Sans Mono", monospace;

$ms-scale: 1.3;
$ms-up1: $base-font-size * $ms-scale;
$ms-up2: $ms-up1 * $ms-scale;
$ms-up3: $ms-up2 * $ms-scale;
$ms-up4: $ms-up3 * $ms-scale;
$ms-up5: $ms-up4 * $ms-scale;
$ms-down1: $base-font-size / $ms-scale;

@font-face {
  font-family: $title-font;
  src: url("/assets/fonts/AvenirNextLTPro-MediumCn.woff2") format("woff2"),
       url("/assets/fonts/AvenirNextLTPro-MediumCn.woff")  format("woff");
}

@font-face {
  font-family: $title-font;
  font-weight: bold;
  src: url("/assets/fonts/AvenirNextLTPro-BoldCn.woff2") format("woff2"),
       url("/assets/fonts/AvenirNextLTPro-BoldCn.woff")  format("woff");
}

.header, .header a, .header a:hover {
  color: rgba(0,0,0,0.5);
  span {
    text-transform: uppercase;
  }
}

.title {
  font-family: $title-family;
  letter-spacing: 3px;
  @include adjust-font-size-to($ms-up2, 2);

  strong {
    text-transform: uppercase;
    color: white;
    text-shadow: -2px 2px rgba(0,0,0,0.5);
    @include adjust-font-size-to($ms-up5, 2, $ms-up2);
  }
  
  span {
    word-spacing: .08em;
  }
}

.subtitle {
  font-family: $sub-family;
  letter-spacing: 1px;
  @include leader(-.5);
}

.fear {
  font-family: Symbola;
}

body {
  font-family: $serif-family;
}

strong {
  font-weight: bold;
}

em {
  font-style: italic;
}

p {
  @include trailer;
}

ol {
  list-style: decimal;
  @include trailer;
}

.secondary {
  
}

li p {
  margin: 0;
}

h1, h2, h3, h4, h5 {
  font-family: $title-family;
  font-weight: bold;
}

h1 {
  @include adjust-font-size-to($ms-up3, 2);
  @include trailer(1, $ms-up3);
}

h2 {
  @include adjust-font-size-to($ms-up2, 2);
  @include leader(1.5, $ms-up2);
  @include trailer(.5, $ms-up2);
}

h3 {
  @include adjust-font-size-to($ms-up1, 1);
  @include leader(1.5, $ms-up1);
  @include trailer(.5, $ms-up1);
}

.listingblock pre {
  font-family: $mono-family;
  @include adjust-font-size-to(16px);
  line-height: 1.25;
}


p, li {
  > code {
    font-size: 16px;
    background: $lighto;
    font-family: $mono-family;
    border-radius: 2px;
    padding: 0.2em 0;
    &::before, &::after{
                 letter-spacing: -0.2em;
                 content: "\00a0 ";
               }
  }
}

.caption {
  font-style: italic;
  text-align: center;
}

sup {
  font-size: 75%;
  line-height: 0;
  vertical-align: baseline;
  position: relative;
  top: -0.5em;
}

.chapter-number {
  font-style: italic;
}